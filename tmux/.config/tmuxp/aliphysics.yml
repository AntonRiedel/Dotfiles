session_name: AliPhysics
before_script: ${HOME}/AliceVM/vagrant-up.sh
start_directory: ${HOME}/AliceVM
windows:
  - window_name: devel
    panes:
      - shell_command:
          - vagrant ssh
          - cd /home/vagrant/aliPhysics
          - alienv enter AliPhysics/latest --shellrc
          - cd /home/vagrant/aliPhysics/AliPhysics
          - nvim
  - window_name: build
    panes:
      - shell_command:
          - sleep 5
          - vagrant ssh
          - cd /home/vagrant/aliPhysics
          - alienv enter AliPhysics/latest --shellrc
          - cd /home/vagrant/aliPhysics/sw/BUILD/AliPhysics-latest-master/AliPhysics/PWG/FLOW
          - find . | entr -pc make install -j$(nproc)
  - window_name: alien
    panes:
      - shell_command:
          - sleep 10
          - vagrant ssh
          - cd /home/vagrant/aliPhysics
          - alienv enter AliPhysics/latest --shellrc
          - cd
  - window_name: remote
    panes:
      - shell_command:
          - sleep 15
          - vagrant ssh
  - window_name: local
    panes:
      - shell_command:
          - cd
