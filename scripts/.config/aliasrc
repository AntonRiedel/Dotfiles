#!/bin/sh
# File              : aliasrc
# Author            : Anton Riedel <anton.riedel@tum.de>
# Date              : 24.03.2020
# Last Modified Date: 18.01.2021
# Last Modified By  : Anton Riedel <anton.riedel@tum.de>

##aliases
alias ls='ls --color=auto'
alias ll='ls -alh --color=auto'
alias grep='grep --color=auto'
alias cp='rsync -uvrP'
#alias scp='rsync -uvrzP'
alias scp='rsync -uvrzP --zc=zlib'
alias pdf='$READER'
alias pdf2='$READER2'
alias latexmk='latexmk -pdf'
alias v='$EDITOR'
alias vi='$EDITOR'
alias vim='$EDITOR'
alias vb='$EDITOR -u NONE'
alias g='git'
alias gs='git status'
alias ga='git add'
alias gc='git commit'
alias gch='git checkout'
alias gb='git branch'
alias pi='yay -S'
alias pu='yay -Syu'
# alias pu='yay -Syu && $EDITOR +PlugUpgrade +PlugUpdate +quita'
alias pr='yay -Rnsc'
alias po='yay -Rnsc $(yay -Qtdq) 2>/dev/null || echo "no orphanes found"'
alias pc='yay -Scc'
alias pq='yay -Ss'
alias nmu='nmcli con up --ask'
alias nmd='nmcli con down'
alias screen='xinput --map-to-output "Wacom ISDv4 E6 Pen Pen (0)" LVDS1'

##custom shell functions (a.k.a. fun with fzf)
#search and edit a configuration file
ce() {
    $EDITOR "$(find $HOME/Dotfiles -type f -not -path "*/old/*" | fzf --prompt="Edit config file: ")"
    return 0
}
#connect to known host via ssh
sshc() {
    ssh "$(grep "^Host " $HOME/.ssh/config | grep -v "git" | awk '{print $2}' | fzf --prompt="Connect to host: ")"
    return 0
}
#search and enter a subdirectory in your home directory
fd() {
    cd "$(find $HOME -type d -not -path "*/old/*" | fzf --prompt="Jump to Dir: ")"
    pwd
    ls
    return 0
}
#search and open a file in your home directory
ff() {
    xdg-open "$(find $HOME -type f -not -path "*/old/*" | fzf --prompt="Open file: ")"
    return 0
}
#search for a process and kill it
kp() {
    kill -s SIGKILL "$(ps aux | fzf --prompt="Job to kill: " | awk '{ print $2 }')" 2>/dev/null
    return 0
}
##other convenient functions
#start tor
tor() {
    cd $HOME/.local/share/tor/
    ./start-tor-browser.desktop
    cd -
    return 0
}
#copy a file to clipboard
ctc() {
    [ ! -f "$1" ] && echo "Needs a file as argument" && return 1
    xclip -selection clipboard $1
    return 0
}
